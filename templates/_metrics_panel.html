{# templates/ui/panels/metrics.html #}

<div class="flex items-start justify-between gap-4">
  <div class="min-w-0">
    <div class="flex items-center gap-2">
      <h2 class="text-lg font-semibold">Metrics</h2>
      <span class="text-xs text-gray-500">Auto-refreshing every 5s</span>
    </div>
    <p class="text-xs text-gray-500 mt-1">
      Live from your local DB.
    </p>
  </div>
</div>

<!-- STACKED METRICS -->
<div class="mt-4 grid grid-cols-1 gap-3">

  <!-- Devices -->
  <div class="rounded-2xl p-4 shadow-sm border border-indigo-100 bg-gradient-to-br from-indigo-50 to-white">
    <div class="flex items-center justify-between">
      <div class="text-sm text-indigo-700 font-medium">Devices</div>
      <div class="w-9 h-9 rounded-xl bg-indigo-600/10 flex items-center justify-center">
        <!-- icon -->
      </div>
    </div>
    <div class="mt-2 text-3xl font-semibold tabular-nums">{{ devices_count }}</div>
    <div class="mt-1 text-xs text-gray-500">Known devices in inventory</div>
  </div>

  <!-- Scans -->
  <div class="rounded-2xl p-4 shadow-sm border border-emerald-100 bg-gradient-to-br from-emerald-50 to-white">
    <div class="flex items-center justify-between">
      <div class="text-sm text-emerald-700 font-medium">Scans</div>
      <div class="w-9 h-9 rounded-xl bg-emerald-600/10 flex items-center justify-center">
        <!-- icon -->
      </div>
    </div>
    <div class="mt-2 text-3xl font-semibold tabular-nums">{{ scans_count }}</div>
    <div class="mt-1 text-xs text-gray-500">Stored scan results</div>
  </div>

  <!-- Last scan -->
  <div class="rounded-2xl p-4 shadow-sm border border-slate-200 bg-gradient-to-br from-slate-50 to-white">
    <div class="flex items-center justify-between">
      <div class="text-sm text-slate-700 font-medium">Last scan</div>
      <div class="w-9 h-9 rounded-xl bg-slate-900/5 flex items-center justify-center">
        <!-- icon -->
      </div>
    </div>

    {% if last_scan %}
  <div class="mt-2 text-lg font-semibold font-mono">
    {{ last_scan.strftime("%Y-%m-%d %H:%M") }}
  </div>
  <div class="mt-1 text-xs text-gray-500">Most recent stored run</div>
{% else %}
  <div class="mt-2 text-lg font-semibold">â€”</div>
  <div class="mt-1 text-xs text-gray-500">No scans yet</div>
{% endif %}

  </div>

</div>
